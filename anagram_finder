from english_words import get_english_words_set


def find_anagrams(user_input):
    # 1. Clean the input (remove spaces and non-letters)
    target = "".join(filter(str.isalpha, user_input.lower()))
    target_sorted = sorted(target)

    # 2. Get a set of valid English words (Alpha only)
    # This replaces the need for a local words.txt file
    web2_words = get_english_words_set(['web2'], lower=True)

    results = []

    # 3. Compare sorted signatures
    for word in web2_words:
        if len(word) == len(target):
            if sorted(word) == target_sorted:
                results.append(word)

    return results


# Example Usage
phrase = "Antony Wanjala"  # Note: This specific name is 13 letters!
matches = find_anagrams(phrase)

if matches:
    print(f"Single-word anagrams found: {', '.join(matches)}")
else:
    # This is more likely for long names
    print(f"No single-word anagrams for '{phrase}'.")
    print("Longer names usually require multi-word combinations.")
